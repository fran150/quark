!function(e,n){"function"==typeof define&&define.amd?define(["knockout","jquery","knockout-mapping","accounting-js","crossroads","hasher","signals","blockui"],n):(e.komapping=ko.mapping,e.$$=n(e.ko,e.$,e.komapping,e.accounting,e.crossroads,e.hasher,e.signals))}(this,function(ko,$,komapping,accounting,crossroads,hasher,signals){function ComponentError(e,n,t){this.key=e,this.text=n,this.data=t,this.level=t&&t.level?t.level:0,this.type=t&&t.type?t.type:""}function ComponentErrors(){var e=this,n=ko.observableArray();this.keys=1,this.add=function(t,r){var o=e.keys++,i=new ComponentError(o,t,r);return n.push(i),o},this["throw"]=function(t,r){var o=e.add(t,r);throw n()[o]},this.resolve=function(t){var r=e.getByKey(t);r&&n.remove(r)},this.getBy=function(e){return ko.pureComputed(function(){var t=[],r=n();return $.each(r,function(n,r){e(r)&&t.push(r)}),t})},this.getByKey=function(e){var t=n();for(var r in t){var o=t[r];if(o.key==e)return o}},this.getByType=function(e){return ko.pureComputed(function(){var t=[],r=n();return $.each(r,function(n,r){r.type==e&&t.push(r)}),t})},this.getByLevel=function(e,t){return ko.pureComputed(function(){var r=[],o=n();return $.each(o,function(n,o){o.level>=e&&o.level<=t&&r.push(o)}),r})},this.get=function(){return ko.pureComputed(function(){return n})}}function applyBehaviour(e,n){if(!$$.isString(n))throw"The behaviour name must be an string. If you specified an array check that all elements are valid behaviour names";if(!behaviours[n])throw"The are no behaviours loaded with the name "+n+".";behaviours[n](e),$$.isDefined(e.$support)||(e.$support={}),$$.isDefined(e.$support.behaviours)||(e.$support.behaviours={}),e.$support.behaviours[n]=!0}function createComponentShadyDomAccesor(e){var n=function(){return{nodes:e.$componentTemplateNodes}};return n}function createModelExporterAccessor(e,n,t,r,o){var i=function(){for(var n=Array(),t=e.parentNode.parentNode,r=0;r<t.attributes.length;r++){var o=t.attributes[r];o.specified&&0===o.name.indexOf("qk-")&&(n.push(document.createComment("ko "+o.name.replace("qk-","")+": "+o.value)),n.push(document.createComment("/ko")))}return{nodes:n,"if":n.length>0}};return i}function injectBinding(e,n,t){var r=ko.unwrap(e()),o=t.$child,i=r;$$.isObject(r)&&$$.isDefined(r.data)&&$$.isDefined(r.target)&&(o=r.target,i=ko.isObservable(r.data)?r.data():r.data),$$.inject(i,o)}function createContentAccesor(e,n,t,r,o){var i=ko.unwrap(n()),a=function(){return $$.isInt(i)?{nodes:o.$componentTemplateNodes.slice(i)}:$$.isDefined(i)?{nodes:$(o.$componentTemplateNodes).filter(i)}:{nodes:o.$componentTemplateNodes}};return a}function createHasContentAccesor(e,n,t,r,o){var i=ko.unwrap(n()),a=function(){return $(o.$componentTemplateNodes).filter(i).length>0};return a}function createPageAccessor(element,valueAccessor,allBindingsAccessor,viewModel,context){var name=ko.unwrap(valueAccessor()),newAccesor=function(){var current=$$.routing.current(),component,params;return $$.isArray(current.route.components[name])?(component=current.route.components[name][0],eval("params = {"+current.route.components[name][1]+"}")):(component=current.route.components[name],params=current),{name:ko.pureComputed(function(){return component}),params:params}};return newAccesor}function createHasPageAccessor(e,n,t,r,o){var i=ko.unwrap(n()),a=function(){var e=$$.routing.current();return $$.isDefined(e.route.components[i])?!0:!1};return a}function QuarkRouter(){function e(){var e=this;e.configuration={};var n;this.on=function(t,r){if(!$$.isDefined(t))throw"Must define a name for the routes on the page.";return e.configuration[t]={config:r,routes:{}},n=t,e},this.when=function(t,r,o,i){if($$.isDefined(r)||$$.isDefined(o)){if(!$$.isDefined(o)||!$$.isDefined(r))throw"Must define the hash, name and components parameters"}else o=t,r="",t="Any";if(!$$.isDefined(n))throw"You must define the location to where this route applies using the .on method before calling .when.";var a=n+"/"+r;return e.configuration[n].routes[r]={hash:t,components:o,fullName:a,name:r,controller:i},e}}function n(e,n,r,o,i,a,s){var u=this,c=e.addRoute(i,function(e){function n(n){t.current({route:u,params:e,controller:n}),n&&n.show&&n.show(),t.routed.dispatch()}t.current()&&t.current().controller&&t.current().controller.leaving&&t.current().controller.leaving()===!1||($$.isString(s)?require([s],function(e){var t=$$.isFunction(e)?new e:e;n(t)}):$$.isFunction(s)?s(n):n(s))});this.name=n,this.fullName=r,this.hash=i,this.components=a,this.parse=function(n){e.parse(n)},this.interpolate=function(e){return c.interpolate(e)}}var t=this;this.current=ko.observable(),this.configuration={},this.locationFinders=[],this.locationFinders.push(function(e,n){var r;r=e?e:window.location.pathname;for(var o in t.configuration){var i=t.configuration[o],a=RegExp(i.config);r.match(a)&&n(i)}}),this.routes=function(){return new e},this.configure=function(e){for(var r in e.configuration){var o,i=e.configuration[r];o=t.configuration[r]?t.configuration[r]:t.configuration[r]={},o.router||(o.router=crossroads.create(),o.router.normalizeFn=crossroads.NORM_AS_OBJECT,o.router.ignoreState=!0),i.router=o.router,o.routes||(o.routes={}),o.config||(o.config=i.config);for(var a in i.routes)if(""!==a){var s={};$$.isDefined(o.routes[""])&&$.extend(s,o.routes[""].components),$$.isDefined(i.routes[""])&&$.extend(s,i.routes[""].components);var u=i.routes[a];$.extend(s,u.components);var c=new n(o.router,u.name,u.fullName,i.config,u.hash,s,u.controller);o.routes[a]=c}}},this.parse=function(e,n){$$.isDefined(n)||(n=e,e=void 0);var r=!1;for(var o in t.locationFinders){var i=t.locationFinders[o];if(i(e,function(e){r=!0,e.router.parse(n)}),r)return}},this.getRoute=function(e){var n=e.substr(0,e.indexOf("/")),r=e.substr(e.indexOf("/")+1);if(!r)throw new"You must specifiy route name in the form location/routeName.";return t.configuration[n]?t.configuration[n].routes[r]||console.warn("The route name specified as "+e+" was not found in the routing configuration for the "+n+" location."):console.warn("The location specified as "+e+" was not found in the routing configuration."),t.configuration[n]&&t.configuration[n].routes[r]?t.configuration[n].routes[r]:void 0},this.hash=function(e,n){var r=t.getRoute(e);return r?r.interpolate(n):void 0},this.listLocation=function(e){var n=[];for(var r in t.locationFinders){var o=t.locationFinders[r];o(e,function(e){n.push(e.routes)})}return n},this.activateHasher=function(e){function n(n,r){$$.isDefined(e)?e(n,r):t.parse(n)}hasher.initialized.add(n),hasher.changed.add(n),hasher.init()},this.routed=new signals.Signal}function block(e,n){n?$$.block(n,$(e)):$$.unblock($(e))}function blockOnError(e,n){n.length?$(e).block({message:null,overlayCSS:{backgroundColor:"#A51600",opacity:.5},css:{border:"none",padding:"5px",backgroundColor:"#000","-webkit-border-radius":"5px","-moz-border-radius":"5px",opacity:1,color:"#fff"},baseZ:900}):$(e).unblock()}function validateValue(e,n){n||(n=this),n.validationReset();for(var t in n.validationConfig){var r=n.validationConfig[t];if(ko.validators[t]){var o=ko.validators[t](n,r);if(!o.validate(e))return n.errorHandler&&(n.errorKey=n.errorHandler.add(n.validationMessage(),{level:100,type:"validation"})),!1}}return!0}function setFormGroupErrorClass(e,n,t,r,o){var i=n(),a=!1;if($$.isArray(i))for(var s=0;s<i.length;s++)i[s].hasError()||(a=!0);else a=i.hasError();a?$(e).addClass("has-error"):$(e).removeClass("has-error")}var $$={};$$.started=!1,$$.clientErrorHandlers={},$$.serverErrorHandlers={},$$.isDefined=function(e){return"undefined"==typeof e?!1:!0},$$.isString=function(e){return"string"==typeof e||e instanceof String?!0:!1},$$.isInt=function(e){return Number(e)==e&&e%1===0},$$.isNumeric=function(e){return"number"==typeof e},$$.isDecimal=function(e){return e===Number(e)&&e%1!==0},$$.isArray=function(e){return $.isArray(e)},$$.isObject=function(e){return null===e||"object"!=typeof e||e instanceof Array?!1:!0},$$.isFunction=function(e){return null!==e&&"function"==typeof e?!0:!1},$$.isDate=function(e){return e instanceof Date?!0:!1},$$.isValidDate=function(e){return $$.isDate(e)?isNaN(e.getTime())?!1:!0:!1},$$.clone=function(e){return $.extend(!0,{},e)},$$.cloneObservable=function(e){return komapping.fromJS(komapping.toJS(e))},$$.cloneMixed=function(e){var n=new e.constructor;for(var t in e){var r;ko.isObservable(e[t])?(r=e[t](),$$.isObject(r)?n[t]=ko.observable($$.cloneMixed(r)):n[t]=ko.observable(r)):(r=e[t],$$.isObject(r)?n[t]=$$.cloneMixed(r):n[t]=r)}return n},$$.call=function(e){if(ko.isObservable(e)&&(e=e()),ko.isObservable(e))throw"Callback can not be an observable";if($$.isFunction(e)){var n=Array.prototype.slice.call(arguments,1);return e.apply(null,n)}},$$.makeDate=function(e,n){if($$.isDate(e)||(e=new Date(e)),!$$.isValidDate(e)){if(!n)return void 0;e=new Date}return e},$$.clear=function(e){$.each(e,function(e,n){ko.isObservable(n)?n(void 0):n=void 0})},$$.undefine=function(e){ko.isObservable(e)?e(void 0):e=void 0},$$.signal=function(){return new signals.Signal},$$.signalClear=function(e){e.removeAll()},$$.errorHandler=function(){return new ComponentErrors},$$.start=function(e){$$.started||(ko.applyBindings(e),$$.started=!0)},$$.module=function(e,n,t){if(!$$.isDefined(e))throw"Must specify the module configuration. You can define 'module' as dependency and pass that value in this parameter";var r=e.id.substring(0,e.id.lastIndexOf("/")),o=e.uri.substring(0,e.uri.lastIndexOf("/"));if($$.modules.get(r))return $$.modules.get(r);if(n||(n={}),$$.isDefined(n.require)){if(n.require.paths)for(var i in n.require.paths)n.require.paths[i]=o+"/"+n.require.paths[i];require(n.require)}if(n.components)for(var a in n.components){var s=n.prefix+"-"+a,u=r+"/"+n.components[a];ko.components.register(s,{require:u})}if($$.isArray(n.css))for(var c=0;c<n.css.length;c++){var d=document.createElement("link");d.type="text/css",d.rel="stylesheet",d.href=o+"/"+n.css[c],document.getElementsByTagName("head")[0].appendChild(d)}var l={};return t&&(l=new t(r)),l.start&&l.start(),$$.modules.add(r,{name:r,path:o,info:e,config:n,main:l}),$$.modules.get(r)},$$.component=function(e,n){function t(n){var t,r,o={};r=n.errorHandler?n.errorHandler:$$.controller&&$$.controller.errorHandler?$$.controller.errorHandler:new ComponentErrors;var i=r;e&&!t&&(t=new e(n,o,i),o.model=t,o.errorHandler=i,o.controller=$$.controller),this.getModel=function(){return t},this.getScope=function(){return o},this.getErrorHandler=function(){return i},this.dispose=function(){t&&t.dispose&&t.dispose(),o&&o.dispose&&o.dispose(),t=void 0,o=void 0,$errors=void 0}}return $$.isDefined(n)||(n=e,e=void 0),e?{template:n,viewModel:t}:{template:n}},$$.config=function(e,n,t){if(!$$.isObject(e))throw"You must specify a config object";if(!$$.isObject(n))throw"You must specify the configured values for the component, usually you can obtain it from the parameters array received in the component's constructor.";if(!$$.isDefined(t))throw"You must specify the viewmodel of the component in wich to load the configuration.";$$.isArray(t)||(t=Array(t));for(var r in e)for(var o=0;o<t.length;o++){var i=t[o];$$.isDefined(i.config)||(i.config={}),$$.isDefined(i.config[r])&&console.warn("There is already a config property named "+r+" in the target component. The property will be replaced."),i.config[r]=e[r],ko.isObservable(i.config[r])&&console.warn("Property "+r+" should not be observable. The configuration parameters should be static, if you want the object to react to parameter changes use the parameters method."),$$.isDefined(n[r])&&(ko.isObservable(n[r])?i.config[r]=n[r]():i.config[r]=n[r])}},$$.parameters=function(e,n,t){if(!$$.isObject(e))throw"You must specify a parameters config object";if(!$$.isObject(n))throw"You must specify the configured values for the component, usually you can obtain it from the parameters array received in the component's constructor.";if(!$$.isDefined(t))throw"You must specify the viewmodel of the component in wich to load the parameters.";$$.isArray(t)||(t=Array(t));for(var r in e)for(var o=0;o<t.length;o++){var i=t[o];if($$.isDefined(i[r])&&console.warn("There is already a property named "+r+" in the target component. It will be replaced with the specified parameter."),i[r]=e[r],$$.isDefined(n[r]))if(ko.isObservable(i[r])&&ko.isObservable(n[r]))ko.isComputed(i[r])||(i[r]=n[r]);else if(ko.isObservable(i[r])&&!ko.isObservable(n[r]))i[r](n[r]);else if(!ko.isObservable(i[r])&&ko.isObservable(n[r]))i[r]=n[r]();else if(!ko.isObservable(i[r])&&!ko.isObservable(n[r]))if($$.isFunction(i[r])){if($$.isFunction(n[r]))i[r]=n[r];else if($$.isDefined(n[r]))throw"The parameter "+r+" must be a callback."}else i[r]=n[r]}},$$.inject=function(e,n,t){if($$.isDefined(e)&&$$.isDefined(n))for(var r in e)if($$.isDefined(n[r])){var o;o=ko.isObservable(e[r])?e[r]():e[r],ko.isObservable(n[r])?t&&$$.isObject(n[r]())?$$.inject(n[r](),o,!0):n[r](o):t&&$$.isObject(n[r])?$$.inject(n[r],o,!0):n[r]=o}};var behaviours={};$$.behaviour=function(e,n,t){if($$.behaviour[e]&&console.warn("There was already a behaviour loaded with the name "+e+". It will be replaced with the new one."),!$$.isString(e))throw"The behaviour name must be an string.";if(!$$.isFunction(n))throw"The behaviour must be a function that takes an object as a parameter an applies the new functionality to it.";if($$.isDefined(t)&&!$$.isFunction(t))throw"The behaviour dispose must be a function that performs cleanup of the behaviour when disposing.";n.dispose=t,behaviours[e]=n},$$.behave=function(e,n){if(!$$.isObject(e))throw"You must specifify a valid object to apply the behaviour.";if($$.isArray(n))for(var t=0;t<n.length;t++)applyBehaviour(e,n[t]);else{if(!$$.isString(n))throw"The behaviour name must be an string or an array of strings.";applyBehaviour(e,n)}},$$.hasBehaviour=function(e,n){if(!$$.isObject(e))throw"You must specifify a valid object to check the behaviour.";if(!$$.isString(n))throw"The behaviour name must be an string.";return $$.isDefined(e.$support)&&$$.isDefined(e.$support.behaviours)&&$$.isDefined(e.$support.behaviours[n])?!0:!1},$$.disposeBehaviours=function(e){if(!$$.isObject(e))throw"You must specifify a valid object to apply the behaviour.";if($$.isDefined(e.$support)&&$$.isDefined(e.$support.behaviours))for(var n in e.$support.behaviours){var t=e.$support.behaviours[n];t.dispose&&t.dispose(e)}},ko.associativeObservable=function(e){function n(){return arguments.length>0?(n.underlying(arguments[0]),this):n.underlying()}return n.underlying=ko.observable(e),n.add=function(e,t){var r=n.underlying();r||(r={}),r[e]=t,n.underlying(r)},n.get=function(e){var t=n.underlying();return t?t[e]:void 0},n.remove=function(e){var t=n.underlying();t&&$$.isDefined(t[e])&&delete t[e],n.underlying(t)},n.array=ko.pureComputed(function(){var e=n.underlying(),t=[];if(e)for(var r in e){var o=e[r];t.push(o)}return t}),n.each=function(e){var t=n.underlying();if(t)for(var r in t)e(r,t[r])},n.subscribe=function(e){return n.underlying.subscribe(e)},n},$$.modules=ko.associativeObservable({}),ko.computedParameter=function(e,n,t){return ko.isObservable(e)||(e=ko.observable(e)),ko.computed({read:function(){return n.read(e)},write:function(t){return n.write(e,t)}},t)},ko.components.register("quark-component",{template:"<!-- ko componentShadyDom --><!-- /ko --><!-- ko modelExporter --><!-- /ko -->"}),ko.bindingHandlers["import"]={init:function(e,n,t,r,o){var i=r.model,a=n();if(!$$.isString(a))throw"The import value must be an string with the name of the property to create on the parent object";$$.isObject(i.$support)||(i.$support={}),$$.isObject(i.$support.tracking)||(i.$support.tracking={childs:{}}),i.$support.tracking.childs[a]={},i.$support.tracking.childs[a].load=function(e,n){i[e]=n,i.$support.tracking.childs[e].loaded=!0,$$.isDefined(i.loaded)&&i.loaded(e,n),$$.isDefined(n.$support)&&$$.isDefined(n.$support.tracking)?(i.$support.tracking.childs[e].ready=!1,n.$support.tracking.parent=i,n.$support.tracking.parentState=i.$support.tracking.childs[e]):(i.$support.tracking.childs[e].ready=!0,$$.isDefined(i.readied)&&i.readied(e,n),$$.isDefined(n.ready)&&n.ready());for(var t in i.$support.tracking.childs)if(!i.$support.tracking.childs[t].loaded||!i.$support.tracking.childs[t].ready)return;$$.isFunction(i.ready)&&i.ready(),$$.isDefined(i.$support)&&$$.isDefined(i.$support.tracking)&&$$.isDefined(i.$support.tracking.parent)&&(i.$support.tracking.parentState.ready=!0,$$.isDefined(i.$support.tracking.parent.readied)&&i.$support.tracking.parent.readied(e,n),i.$support.tracking.parent.$support.tracking.childReady())},i.$support.tracking.childs[a].loaded=!1,i.$support.tracking.childReady=function(){for(var e in i.$support.tracking.childs)if(!i.$support.tracking.childs[e].ready)return;$$.isFunction(i.ready)&&i.ready(),$$.isDefined(i.parent)&&$$.isDefined(i.parent.$support.tracking)&&(i.$support.tracking.parentState.ready=!0,i.$support.tracking.parent.$support.tracking.childReady())},i[a]={},e.setAttribute("qk-export","'"+a+"'")}},ko.bindingHandlers["export"]={init:function(e,n,t,r,o){var i;i=ko.unwrap(n()),r=r.model;var a;if($$.isString(i)?a=i:$$.isObject(i)&&($$.isString(i.property)&&(a=i.property),$$.isDefined(i.model)&&(r=i.model)),!$$.isString(a))throw"The value of the vm value must be an string with the name of the property where quark must load the viewmodel of the nested component";if(!$$.isDefined(r.$support)||!$$.isDefined(r.$support.tracking))throw"The specified object doesn´t have the tracking.childs property. This usually is because you don´t used the function .components to set the properties where the vm binding has to set the viewmodel";if(!$$.isDefined(r.$support.tracking.childs))throw"The specified object doesn´t have the tracking property. This usually is because you don´t used the function .components to set the properties where the vm binding has to set the viewmodel";if(!$$.isDefined(r.$support.tracking.childs[a]))throw"The specified object doesn´t have a property named "+i+". Verify that the object has a property defined with the .components method with the name defined in the vm binding.";r.$support.tracking.childs[a].load(a,o.$child)}},ko.virtualElements.allowedBindings["export"]=!0,ko.bindingHandlers.componentShadyDom={init:function(e,n,t,r,o){var i=createComponentShadyDomAccesor(o);return o.$parentContext.$data=o.$parent.getScope(),o.$parentContext.$rawData=o.$parent.getScope(),ko.bindingHandlers.template.init(e,i,t,o.$parent.getScope(),o.$parentContext)},update:function(e,n,t,r,o){var i=createComponentShadyDomAccesor(o);return o.$parentContext.$data=o.$parent.getScope(),o.$parentContext.$rawData=o.$parent.getScope(),ko.bindingHandlers.template.update(e,i,t,o.$parent.getScope(),o.$parentContext)}},ko.virtualElements.allowedBindings.componentShadyDom=!0,ko.bindingHandlers.modelExporter={init:function(e,n,t,r,o){var i=createModelExporterAccessor(e,n,t,r,o),a=o.$parentContext.$parentContext.extend({$child:o.$parent.getModel(),$childContext:o});return ko.bindingHandlers.template.init(e,i,t,o.$parent,a)},update:function(e,n,t,r,o){var i=createModelExporterAccessor(e,n,t,r,o),a=o.$parentContext.$parentContext.extend({$child:o.$parent.getModel(),$childContext:o});return ko.bindingHandlers.template.update(e,i,t,o.$parent,a)}},ko.virtualElements.allowedBindings.modelExporter=!0,ko.bindingHandlers.call={init:function(e,n,t,r,o){var i=ko.unwrap(n());i()}},ko.virtualElements.allowedBindings.call=!0,ko.bindingHandlers.inject={init:function(e,n,t,r,o){injectBinding(n,r,o)},update:function(e,n,t,r,o){injectBinding(n,r,o)}},ko.virtualElements.allowedBindings.inject=!0,ko.bindingHandlers.content={init:function(e,n,t,r,o){var i=createContentAccesor(e,n,t,r,o),a=o.$parentContext.extend({$child:r,$childContext:o});return ko.bindingHandlers.template.init(e,i,t,o.$parent,a)},update:function(e,n,t,r,o){var i=createContentAccesor(e,n,t,r,o),a=o.$parentContext.extend({$child:r,$childContext:o});return ko.bindingHandlers.template.update(e,i,t,o.$parent,a)}},ko.virtualElements.allowedBindings.content=!0,ko.bindingHandlers.hasContent={init:function(e,n,t,r,o){var i=createHasContentAccesor(e,n,t,r,o);return ko.bindingHandlers["if"].init(e,i,t,o,o)}},ko.virtualElements.allowedBindings.hasContent=!0,ko.bindingHandlers.hasNotContent={init:function(e,n,t,r,o){var i=createHasContentAccesor(e,n,t,r,o);return ko.bindingHandlers.ifnot.init(e,i,t,o,o)}},ko.virtualElements.allowedBindings.hasNotContent=!0,ko.bindingHandlers.page={init:function(e,n,t,r,o){var i=createPageAccessor(e,n,t,r,o),a=$$.routing.current();return $$.isObject(a.controller)&&(o=o.createChildContext(a.controller)),ko.bindingHandlers.component.init(e,i,t,r,o)}},ko.virtualElements.allowedBindings.page=!0,ko.bindingHandlers.hasPage={init:function(e,n,t,r,o){var i=createHasPageAccessor(e,n,t,r,o);return ko.bindingHandlers["if"].init(e,i,t,r,o)}},ko.virtualElements.allowedBindings.hasPage=!0,ko.bindingHandlers.stopBinding={init:function(e,n,t,r,o){return{controlsDescendantBindings:!0}}},ko.bindingHandlers.upContext={init:function(e,n,t,r,o){var i=o.$parentContext.extend({$child:r,$childContext:o});return ko.bindingHandlers.template.init(e,n,t,o.$parent,i)},update:function(e,n,t,r,o){var i=o.$parentContext.extend({$child:r,$childContext:o});return ko.bindingHandlers.template.update(e,n,t,o.$parent,i)}},ko.virtualElements.allowedBindings.upContext=!0,$$.routing=new QuarkRouter,$$.controller={};var controllerUpdater=ko.computed(function(){var e=$$.routing.current();e&&e.controller&&($$.controller=e.controller)});return $$.redirect=function(e){return window.location.href=e,!0},$$.redirectRoute=function(e,n,t){var r=$$.routing.link(e,n,t);$$.redirect(r)},$$.redirectHash=function(e,n){var t=$$.routing.hash(e,n);$$.redirect("#"+t)},$$.getParam=function(e){var n=void 0,t=[];return location.search.substr(1).split("&").forEach(function(r){t=r.split("="),t[0]===e&&(n=decodeURIComponent(t[1]))}),n},$$.replaceAndBind=function(e,n,t){$(e).html(n),ko.cleanNode(e.get(0)),ko.applyBindings(t,e.get(0))},$$.block=function(e,n){e||(e="Loading...");var t={message:e,css:{border:"none",padding:"5px",backgroundColor:"#000","-webkit-border-radius":"5px","-moz-border-radius":"5px",opacity:.7,color:"#fff"},baseZ:5e3};n?$(n).block(t):$.blockUI(t)},$$.unblock=function(e){e?$(e).unblock():$.unblockUI()},$$.htmlEncode=function(e){return e?$("<div />").text(e).html():""},$$.htmlDecode=function(e){return e?$("<div />").html(e).text():""},$$.limitText=function(e,n){return $$.isInt(n)?6>n&&(n=6):n=6,$$.isString(e)?(e.length>n&&(e=e.substr(0,n-3)+"..."),e):""},$$.setCookie=function(e,n,t){var r=new Date;if(void 0!==t){r.setTime(r.getTime()+1e3*t);var o="expires="+r.toUTCString();document.cookie=e+"="+n+"; "+o}else document.cookie=e+"="+n+"; "},$$.getCookie=function(e){e+="=";for(var n=document.cookie.split(";"),t=0;t<n.length;t++){for(var r=n[t];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return""},$$.clearCookie=function(e){$$.setCookie(e,"",-1)},$$.ajax=function(e,n,t,r,o,i){var a=i||{},s=r||{};if(!e)throw"Must specify the target URL";$$.isDefined(a.headers)||(a.headers={}),o&&(a.headers.access_token=sessionStorage.getItem("token"));var u;$$.isFunction(s)?u=s:$$.isObject(s)&&(u=s.onSuccess),$.ajax({url:e,type:n||"GET",cache:a.cache||!1,data:t,async:a.async||!0,success:u,headers:a.headers||{},complete:function(){$$.isDefined(s.onComplete)&&s.onComplete()},error:function(n,t,r){var o=!1;if($$.isDefined(s.onError)&&(o=s.onError()),!o)if(n.status>=500&&n.status<600){for(var i in $$.serverErrorHandlers)if($$.serverErrorHandlers[i](e,JSON.parse(n.responseText))){o=!0;break}}else for(i in $$.clientErrorHandlers)if($$.clientErrorHandlers[i](e,n,t,r)){o=!0;break}}})},ko.observable.fn.refresh=function(){var e=this();$$.undefine(this),this(e)},ko.isObservableArray=function(e){return ko.isObservable(e)&&void 0!==e.indexOf?!0:!1},ko.isComputed=function(e){return null===e||void 0===e||void 0===e.__ko_proto__?!1:e.__ko_proto__===ko.dependentObservable?!0:ko.isComputed(e.__ko_proto__)},ko.mapToJS=function(e){return komapping.toJS(komapping.fromJS(e))},ko.mapFromJS=function(e){return komapping.fromJS(komapping.toJS(e))},ko.tryBlock=function(e,n){e.block&&e.block(n)},ko.tryUnblock=function(e){e.unblock&&e.unblock()},ko.extenders.blockable=function(e,n){return e.blocked=ko.observable(""),e.block=function(t){var r=t||n;e.blocked(r)},e.unblock=function(){e.blocked("")},e},ko.bindingHandlers.onBind={init:function(e,n,t,r,o){var i=ko.unwrap(n());i(e,r,o)}},ko.bindingHandlers.block={init:function(e,n,t,r,o){var i=ko.unwrap(n());block(e,i)},update:function(e,n,t,r,o){var i=ko.unwrap(n());block(e,i)}},ko.bindingHandlers.blockOnError={init:function(e,n,t,r,o){var i=ko.unwrap(n());$$.isArray(i)&&blockOnError(e,i)},update:function(e,n,t,r,o){var i=ko.unwrap(n());$$.isArray(i)&&blockOnError(e,i)}},ko.bindingHandlers.rowSelect={update:function(e,n,t,r,o){var i=ko.unwrap(n()),a=function(){return $$.isFunction(i.isSelected)?{success:i.isSelected(r)}:{success:i.isSelected}};ko.bindingHandlers.css.update(e,a,t,r,o);var s=function(){return i.select};ko.bindingHandlers.click.init(e,s,t,r,o)}},ko.bindingHandlers.numericValue={init:function(e,n){var t=n();ko.isObservable(t)||(t=ko.observable(t));var r=ko.pureComputed({read:function(){return $$.isDefined(t())?accounting.formatNumber(t(),2,".",","):void 0},write:function(e){var n=t(),r=accounting.unformat(e,",");isNaN(r)&&(r=e),r!==n?t(accounting.toFixed(r,2)):e!==n.toString()&&t.valueHasMutated()}});ko.applyBindingsToNode(e,{value:r})}},ko.bindingHandlers.moneyValue={init:function(e,n){var t=n();ko.isObservable(t)||(t=ko.observable(t));var r=ko.pureComputed({read:function(){return $$.isDefined(t())?accounting.formatMoney(t(),"$ ",2,".",","):void 0},write:function(e){var n=t(),r=accounting.unformat(e,",");isNaN(r)&&(r=e),r!==n?t(accounting.toFixed(r,2)):e!==n.toString()&&t.valueHasMutated()}});ko.applyBindingsToNode(e,{value:r})}},ko.bindingHandlers.numericText={init:function(e,n){var t=n();ko.isObservable(t)||(t=ko.observable(t));var r=ko.pureComputed({read:function(){return $$.isDefined(t())?accounting.formatNumber(t(),2,".",","):void 0},write:function(e){var n=t(),r=accounting.unformat(e,",");isNaN(r)&&(r=e),r!==n?t(accounting.toFixed(r,2)):e!==n.toString()&&t.valueHasMutated()}});ko.applyBindingsToNode(e,{text:r})}},ko.bindingHandlers.moneyText={init:function(e,n){var t=n();ko.isObservable(t)||(t=ko.observable(t));var r=ko.pureComputed({read:function(){return $$.isDefined(t())?accounting.formatMoney(t(),"$ ",2,".",","):void 0},write:function(e){var n=t(),r=accounting.unformat(e,",");isNaN(r)&&(r=e),r!==n?t(accounting.toFixed(r,2)):e!==n.toString()&&t.valueHasMutated()}});ko.applyBindingsToNode(e,{text:r})}},ko.validators={},ko.validate=function(e,n){var t=!0;for(var r in e){var o=e[r];ko.isObservable(o)&&o.validatable&&(o.validate(n)||(t=!1))}return t},ko.unsubscribeValidation=function(e){for(var n in e){var t=e[n];ko.isObservable(t)&&t.validatable&&t.validationSubscription&&(t.validationSubscription.dispose(),delete t.validationSubscription)}},ko.validationReset=function(e){for(var n in e){var t=e[n];ko.isObservable(t)&&t.validatable&&t.validationReset()}},ko.observable.fn.validation=function(e,n,t){return this.validatable=e,this.validationConfig={},this.validationConfig=n,this.hasError=ko.observable(),this.validationMessage=ko.observable(),t&&(this.errorHandler=t),this},ko.observable.fn.validationReset=function(){this.validatable&&(this.hasError(!1),this.validationMessage(""),this.errorHandler&&this.errorKey&&this.errorHandler.resolve(this.errorKey))},ko.observable.fn.validate=function(e){return e&&!this.validationSubscription&&(this.validationSubscription=this.subscribe(validateValue,this)),validateValue(this(),this)},ko.bindingHandlers.formGroupError={init:function(e,n,t,r,o){setFormGroupErrorClass(e,n,t,r,o)},update:function(e,n,t,r,o){setFormGroupErrorClass(e,n,t,r,o)}},ko.bindingHandlers.fieldError={init:function(e,n,t,r,o){var i=function(){return n().validationMessage};ko.bindingHandlers.text.init(e,i,t,r,o)},update:function(e,n,t,r,o){var i=function(){return n().hasError},a=function(){return n().validationMessage};ko.bindingHandlers.visible.update(e,i,t,r,o),ko.bindingHandlers.text.update(e,a,t,r,o)}},"function"==typeof define&&define.amd&&define("knockout",function(){return ko}),$$});
